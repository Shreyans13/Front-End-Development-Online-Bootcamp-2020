<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" id="name" placeholder="Enter Name">
    <input type="number" id="age" placeholder="Enter Age">
    <input type="number" id="p" placeholder="Enter Phy">
    <input type="number" id="c" placeholder="Enter Che">
    <input type="number" id="m" placeholder="Enter Mth">
    <button id="submit">Add Data</button>
    <br><br>
    <table border="1">
        <thead>
            <tr>
                <td>Name</td>
                <td>Age</td>
                <td>Phy</td>
                <td>Che</td>
                <td>Mth</td>
                <td>Total</td>
                <td>% </td>
                <td>Delete</td>
            </tr>
        </thead>
        <tbody id="res">

        </tbody>
    </table>

    <script>
        // [{},{},{}]
        let students = [
            { name:'s1', age:23, marks:{ p:34, c: 45, m: 56} },
            { name:'s2', age:32, marks:{ p:23, c: 85, m: 56} },
            { name:'s3', age:63, marks:{ p:54, c: 15, m: 67} },
            { name:'s4', age:83, marks:{ p:67, c: 35, m: 96} },
            { name:'s5', age:26, marks:{ p:23, c: 55, m: 46} },
            { name:'s6', age:21, marks:{ p:74, c: 75, m: 16} },
            { name:'s7', age:13, marks:{ p:84, c: 85, m: 56} },
            { name:'s8', age:43, marks:{ p:14, c: 15, m: 16} }
        ]
        let DataFind = ()=>{
            let datatoadd = { 
                name: name1, 
                age: age1, 
                marks:{ p:p1, c:c1, m: m1}
            }
            return datatoadd
        }

        let getData = ()=>{
            let name1 = document.getElementById('name').value
            let age1 = parseInt(document.getElementById('age').value)
            let p1 = parseInt(document.getElementById('p').value)
            let c1 = parseInt(document.getElementById('c').value)
            let m1 = parseInt(document.getElementById('m').value)
            name1.length>0 && age1 && p1 && c1 && m1? DataFind():alert('Kuch to input karo')
        }

        document.getElementById('submit').addEventListener('click', ()=>{
            students.unshift(getData())
            printData()
        })
        
        let printData = ()=>{
            document.getElementById('res').innerHTML = ''
            let i =0
            students.map(obj=>{
                document.getElementById('res').innerHTML += `
                    <tr>
                        <td>${obj.name}</td>
                        <td>${obj.age}</td>
                        <td>${obj.marks.p}</td>
                        <td>${obj.marks.c}</td>
                        <td>${obj.marks.m}</td>
                        <td>${ ( obj.marks.p + obj.marks.c + obj.marks.m )}</td>
                        <td>${ (((obj.marks.p + obj.marks.c + obj.marks.m)/300)*100).toFixed(2) }</td>
                        <td><button onClick="deleteData(${i})">Delete</button></td>
                    </tr>
                `
                i++
            })
        }

        let deleteData=(index)=>{
            if(confirm('Paakkaa karna ?')){
                students.splice(index,1)
                printData()
            }
        }

        printData()
        
    </script>
</body>
</html>